$(document).ready((function(){var e=[];var t={pre:"<b>",post:"</b>",extract:function(e){return e.title}};$(document).bind("keyup","alt+ctrl+g",(function(){$.get(CFG_GLPI.root_doc+"/ajax/fuzzysearch.php",{action:"getHtml"},(function(t){$(document.body).append(t);$.getJSON(CFG_GLPI.root_doc+"/ajax/fuzzysearch.php",{action:"getList"},(function(t){e=t}));$(document).bind("keyup",(function(e){switch(e.key){case"Escape":r();break;case"ArrowUp":u();break;case"ArrowDown":n();break;case"Enter":var t=$("#fuzzysearch .results .selected a").attr("href");if(t==undefined){t=$("#fuzzysearch .results li:first a").attr("href")}if(t!=undefined){document.location=t}break}}));$("#fuzzysearch input").focus().bind("keyup",(function(e){if(e.key!="Escape"&&e.key!="ArrowUp"&&e.key!="ArrowDown"&&e.key!="Enter"){s()}}));$("#fuzzysearch .fa-times").click((function(){r()}));setTimeout((function(){if($("#fuzzysearch .results li").length==0){s()}}),100)}))}));var s=function(){var s=$("#fuzzysearch input").val();$("#fuzzysearch .results").empty();var r=fuzzy.filter(s,e,t);r.map((function(e){$("#fuzzysearch .results").append("<li><a href='"+CFG_GLPI.root_doc+e.original.url+"'>"+e.string+"</a></li>")}));a()};var r=function(){$("#fuzzysearch, .fuzzymodal").remove()};var a=function(){$("#fuzzysearch .results li:first()").addClass("selected");l()};var c=function(){$("#fuzzysearch .results li:last()").addClass("selected");l()};var n=function(){if($("#fuzzysearch .results .selected").length==0){a()}else{$("#fuzzysearch .results .selected:not(:last-child)").removeClass("selected").next().addClass("selected");l()}};var u=function(){if($("#fuzzysearch .results .selected").length==0){c()}else{$("#fuzzysearch .results .selected:not(:first-child)").removeClass("selected").prev().addClass("selected");l()}};var l=function(){var e=$("#fuzzysearch .results");var t=e.find(".selected");e.scrollTop(e.scrollTop()+t.position().top-e.height()/2+t.height()/2)}}));